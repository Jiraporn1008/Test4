document.getElementById('files').addEventListener('change', async (event) => {
  const files = event.target.files;
  const formData = new FormData();
  for (const file of files) {
    formData.append('files', file);
  }

  const res = await fetch('https://your-backend.onrender.com/upload', {
    method: 'POST',
    body: formData
  });

  const output = document.getElementById('output');
  output.innerHTML = "";

  if (!res.ok) {
    const error = await res.json();
    output.innerHTML = `<div class="card"><p><strong>Error:</strong> ${error.error}</p></div>`;
    return;
  }

  const dashboard = await res.json();
  output.innerHTML += `
    <div class="section card fade-in">
      <h2>ðŸ“Š Employee Dashboard</h2>
      ${toTable(dashboard)}
    </div>
  `;
});
